<!DOCTYPE html>
<html>
<head>
    <title>Cost Calculator Installer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body style="font-family: -apple-system, sans-serif; text-align: center; padding: 50px;">

    <h1>Install Cost Calculator</h1>
    <p>Click the button to download the profile.</p>

    <button onclick="forceDownload()" style="padding: 15px 30px; background-color: #007AFF; color: white; border: none; border-radius: 10px; font-weight: bold;">
        Install Now
    </button>

    <script>
    function forceDownload() {
        const rawUrl = "https://raw.githubusercontent.com/jn5ncjzj7j-byte/Cost-Calculator/refs/heads/main/Webapp/ios.mobileconfig";
        
        fetch(rawUrl)
            .then(response => response.text())
            .then(xmlData => {
                // This is the important part:
                // It creates a 'Blob' and tells the iPhone this is a 'mobileconfig'
                const blob = new Blob([xmlData], { type: 'application/x-apple-aspen-config' });
                const url = window.URL.createObjectURL(blob);
                
                const link = document.createElement('a');
                link.href = url;
                link.download = 'ios.mobileconfig';
                document.body.appendChild(link);
                link.click(); // This triggers the system popup
                document.body.removeChild(link);
            })
            .catch(err => alert("Make sure you are using Safari on iPhone."));
    }
    </script>
</body>
</html>
